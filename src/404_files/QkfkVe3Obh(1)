!function(){function e(e,t,o,n){function i(t){if(e.jivo_config=k=t,u())throw new Error("Placing widget is forbidden on "+e.top.location.host);a(),_()}function a(){N.src="javascript:false",N.title="",N.role="presentation",N.setAttribute("name","jivo_container"),N.setAttribute("id","jivo_container"),N.setAttribute("frameborder","no"),O.className+="jivo-no-transition","undefined"==typeof SVGRect&&(O.className+=" no-svg"),(N.frameElement||N).style.cssText="width:100%;height:100%;border:0",e.jivo_init=function(){P=0,r()},e.atob&&"complete"!==t.readyState?d(e,"load",r):r(),d(e,"message",function(o){if(!o)return void(console&&console.log&&console.log("Error receive postMessage, window message event is empty."));var n,i,a=o.data;if("in_node_webkit"==a.name&&(n||(n=o.source,i=o.origin),n&&i)){e.jivo_cobrowse={source:n,origin:i};var r="jv_"+encodeURIComponent("langpack")+"_"+k.widget_id+"="+encodeURIComponent(JSON.stringify(a.langpack));k.cookie_domain&&(r+="; domain="+k.cookie_domain),r+="; path=/",t.cookie=r,n.postMessage({name:"widget_ready"},i)}"iframe_url_changed"!=a.name&&"iframe_url_changed"!=a||c()},!1)}function r(){L=t.body.lastChild,O.style&&(O.style.visibility="hidden"),O.setAttribute("id","jivo-iframe-container"),O.appendChild(N),L.parentNode.insertBefore(O,L.nextSibling),c()}function c(){if(!(P++>3)){try{I=N.contentWindow.document}catch(e){E=t.domain,N.src="javascript:var d=document.open();d.domain='"+E+"';void(0);",I=N.contentWindow.document}I.open()._l=function e(){var t=this.createElement("script"),o=k.bundle_folder?k.bundle_folder:"";E&&(this.domain=E),t.id="js-iframe-async",t.charset="UTF-8",t.setAttribute("crossorigin","anonymous"),t.src=l()+o+"/js/bundle_"+k.locale+".js?rand="+k.build_number,t.onerror=function(){m("error")},t.onload=g,this.body.appendChild(t),v(),A=e},I.write('<!doctype HTML><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /></head><body onload="document._l();"><div id="widget"></div></body>'),I.close()}}function d(t,o,n){t.addEventListener?t.addEventListener(o,n,!1):t.attachEvent&&(t.attachEvent("on"+o,function(t){return function(){n.call(t,e.event)}}(t)),t=null)}function s(){if(w.hasStorage)var e=parseInt(localStorage.getItem("jv_store_cdn_resolve_time"),10);return e&&e>=(new Date).getTime()||w.cdnUnavailableState}function l(){return k.static_host&&!s()?"//"+k.static_host:k.base_url}function u(){return k.host_blacklist!==n&&k.host_blacklist.indexOf(e.location.host)>=0}function _(){k.cp_tracker_id&&k.cp_tracker_url&&(e._cp={trackerId:k.cp_tracker_id},f(k.cp_tracker_url))}function m(e){clearTimeout(T),++R>=F||U||(w.hasStorage&&(localStorage.setItem("jv_store_cdn_resolve_time",((new Date).getTime()+B).toString()),localStorage.setItem("jv_store_cdn_unavailable",e)),w.cdnUnavailableState=!0,A.call(I))}function v(){s()||(T=setTimeout(function(){!U&&m("timeout")},x))}function g(e){U=!0,e.globalStore=w,clearTimeout(T)}function f(e,o){var n=o||t,i=n.getElementsByTagName("script"),a=i[0],r=n.createElement("script");r.type="text/javascript",r.async=!0,r.charset="UTF-8",a.parentNode.insertBefore(r,a).src=e}if("undefined"==typeof e.jivo_magic_var){e.jivo_magic_var=!0;var h,p,w={hasStorage:e.__hasStorage,cdnUnavailableState:!1,jivoLoaderVersion:o,loadScript:f};try{throw new Error("Get script URL")}catch(e){for(var b=e.stack.split("\n"),S=b.length,j=0;j<S;j++)if(!h){var y=b[j].match(/https?:\/\/(\S+)\/script\/widget\/([A-Za-z0-9]+)/);y&&y.length>1&&(p=y[1],h=y[2])}}if(!h||!p)throw new Error("Failed to evaluate the widgetId or configHost");var k,E,I,L,T,A,U,C=/iPhone|iPad|iPod|Android|Windows Phone/i.test(navigator.userAgent),N=t.createElement("iframe"),O=t.createElement("div"),P=0,x=C?8e3:6e3,B=12e4,F=3,R=0;e.__jivoConfigOnLoad=i,e.__jivoBundleOnLoad=g,f("//"+p+"/script/widget/config/"+h)}}var t=.1;window.__hasStorage=!1;try{localStorage.setItem("testLocalStorage","ok"),localStorage.removeItem("testLocalStorage"),window.__hasStorage=!0}catch(e){}var o=e,n=null;if(window.__hasStorage){try{n=JSON.parse(localStorage.getItem("__jivoLoader"))}catch(e){}n&&n.version>=t&&(o=new Function("window","document","jivoLoaderVersion","("+n.code+")(window, document, jivoLoaderVersion)"))}o(window,document,t)}(window,document);